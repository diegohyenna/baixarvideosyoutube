<!DOCTYPE html>
<html>
<head>
	<title>Lista de videos para baixar</title>
	<link rel="stylesheet" href="../css/styles.css">
</head>
<body>
	
	<div class="base">
		<h1>Lista de videos para baixar: </h1>

		<table id="list">
			<tr>
		    	<th>Videos</th>
			    <th>Ações</th>			    
			</tr>				
		</table>
	</div>

	<script>		
		fetch("/videos", {
			method: 'POST',
			headers: {'Content-Type': 'Application/json'},
			mode: 'cors',
			// body: JSON.stringify({test: 'abc'})
		})
		.then(function(response){
			return response.json();
		})
		.then(function(response){						
			response.forEach(file => {
				if(file != "index.txt"){	
					draw(file);
			  	}

			});
		});

		function draw(file)
		{
		 	var table = document.getElementById('list');
		 	var tr = document.createElement('tr');
		  	var td1 = document.createElement('td');
		  	var td2 = document.createElement('td');
		  	var a = document.createElement('a');

			td1.innerHTML = file;

		  	a.setAttribute('href', file);
		  	a.setAttribute('class', 'btn btn-primary');
		  	a.innerHTML = 'Visualizar';		  	

		  	td2.appendChild(a);

		  	tr.appendChild(td1);
		  	tr.appendChild(td2);

		  	table.appendChild(tr);
		}

	</script>
</body>
</html>